<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>邮件列表</title>
	<link rel="stylesheet" type="text/css" href="../test/table.css"/>

	<style type="text/css">
		.one{
			background-color: #39A1B3;
		}
		.two{
			background-color: #34BF80;
		}
		.over{
			background-color: #F51010;
		}
	</style>

	<script type="text/javascript">
		//行颜色间隔显示功能
		function trColor(){
			//1.获取表格对象
			var oTabNode = document.getElementById("mailtable");

			//2.因为要进行行颜色背景显示
			//获取行对象
			var collTrNodes = oTabNode.rows;

			//3.对所有需要设置背景的行对象进行遍历
			for(var x=1; x<collTrNodes.length-1; x++){

				if(x%2 == 1){
					collTrNodes[x].className = "one";
				}else{
					collTrNodes[x].className = "two";
				}

				collTrNodes[x].onmouseover = function(){
					name = this.className;
					this.className = "over";
				}
				collTrNodes[x].onmouseout = function(){
					this.className = name;
				}

			}
		}

		onload = function(){
			trColor();
		}


		//复选框的全选动作
		function checkAll(node){
			//获取所有的mail复选框
			var collMailNodes = document.getElementsByName("mail");

			for(var x=0; x<collMailNodes.length; x++){
				collMailNodes[x].checked = node.checked;
			}
		}


		//定义操作复选框按钮的方法
		function checkAllByBut(num){

			var collMailNodes = document.getElementsByName("mail");

			for(var x=0; x<collMailNodes.length; x++){
				
				if(num>1)
					collMailNodes[x].checked = !collMailNodes[x].checked;
				else
					collMailNodes[x].checked = num;
			}			

		}



		//删除所选邮件
		function deleteMail(){

			if(!confirm("你真的要删除所选的邮件吗？")){
				return;
			}

			//获取所有mail节点
			var collMailNodes = document.getElementsByName("mail");

			for(var x=0; x<collMailNodes.length; x++){
				
				if(collMailNodes[x].checked){

					var oTrNode = collMailNodes[x].parentNode.parentNode;
					oTrNode.parentNode.removeChild(oTrNode);
					x--;
				}

				trColor();
			}
		}
















	</script>


</head>
<body>

	<table id="mailtable">
		<tr>
			<th>
				<input type="checkbox" name="all" onclick="checkAll(this)" />全选
			</th>
			<th>
				发件人
			</th>
			<th>
				邮件名称
			</th>
			<th>
				邮件附属信息
			</th>
		</tr>
		<tr>
			<td>
				<input type="checkbox" name="mail" />
			</td>
			<td>
				张三11
			</td>
			<td>
				我是邮件11
			</td>
			<td>
				我是附属信息11
			</td>
		</tr>
		<tr>
			<td>
				<input type="checkbox" name="mail" />
			</td>
			<td>
				张三112
			</td>
			<td>
				我是邮件112
			</td>
			<td>
				我是附属信息112
			</td>
		</tr>
		<tr>
			<td>
				<input type="checkbox" name="mail" />
			</td>
			<td>
				张三113
			</td>
			<td>
				我是邮件113
			</td>
			<td>
				我是附属信息113
			</td>
		</tr>
		<tr>
			<td>
				<input type="checkbox" name="mail" />
			</td>
			<td>
				张三114
			</td>
			<td>
				我是邮件114
			</td>
			<td>
				我是附属信息114
			</td>
		</tr>
		<tr>
			<td>
				<input type="checkbox" name="mail" />
			</td>
			<td>
				张三115
			</td>
			<td>
				我是邮件115
			</td>
			<td>
				我是附属信息115
			</td>
		</tr>
		<tr>
			<td>
				<input type="checkbox" name="mail" />
			</td>
			<td>
				张三116
			</td>
			<td>
				我是邮件116
			</td>
			<td>
				我是附属信息116
			</td>
		</tr>
		<tr>
			<th>
				<input type="checkbox" name="all" onclick="checkAll(this)" />全选
			</th>
			<th colspan="3">
				<input type="button" name="" value="全选" onclick="checkAllByBut(1)" />
				<input type="button" name="" value="取消全选" onclick="checkAllByBut(0)"/>
				<input type="button" name="" value="反选" onclick="checkAllByBut(2)"/>
				<input type="button" name="" value="删除所选附件" onclick="deleteMail()" />
			</th>
		</tr>
	</table>

</body>
</html>